clean:
  files:
    - "dist/"
    - "src/sass/helpers/*.scss"
# ------------------------------------------
# BrowserSync (https://www.browsersync.io/)
# ------------------------------------------
browsersync:
  settings:
    server:
      baseDir: "dist/"
  watch:
    - "src/**/*.html"
favicon:
  tasks:
    main:
      src: "src/favicon/git.png"
      dst: "dist/favicon"
      settings:
        name: "Test"
        backgroundColor: "#ffffff"
        themeColor: "#ffffff"
        margin: "20%"
        iconsPath: "/path/to/icon"
# ------------------------------------------
# Pug (https://pugjs.org)
# ------------------------------------------
pug:
  tasks:
    public:
      src:
        - "src/pug/*.pug"
      dst: "dist"
    test1:
      src:
        - "src/pug/test1/**/*.pug"
      dst: "dist/pug/test1"
    test2:
      src:
        - "src/pug/test2/**/*.pug"
      dst: "dist/pug/test2"
      settings:
        data:
          - "src/pug/test2/pugdata-task.yml"
  settings:
    data: "src/pug/pugdata.yml"
# ------------------------------------------
# SASS
# ------------------------------------------
sass:
  tasks:
    public:
      src:
        - "src/sass/*.scss"
        - "src/sass/**/*.scss"
      dst: "dist/css"
  settings:
    sass:
      errLogToConsole: true
    mqpacker:
      sort: "mobile"
    inlineSVG:
      path: "assets/"
    critical: true
    extractMQ: true
    purgeCSS: true
# ------------------------------------------
# JavaScript (concatenation only)
# ------------------------------------------
javascript:
  tasks:
    public:
      src:
        - "dist/js/modules.min.js"
        - "src/js/concat/**/*.js"
      dst: "dist/js"
      filename: "all.js"
# ------------------------------------------
# Browserify
# ------------------------------------------
browserify:
  tasks:
    public:
      src: "src/js/modules/app.js"
      dst: "dist/js"
      filename: "modules.js"
# ------------------------------------------
# Webpack
# ------------------------------------------
webpack:
  tasks:
    public:
      src: "src/js/bundles/app.js"
      dst: "dist/js"
      filename: "bundle.js"
# ------------------------------------------
# Images
# ------------------------------------------
images:
  tasks:
    public:
      src:
        - "src/images/**/*.png"
        - "src/images/**/*.jpg"
        - "src/images/**/*.jpeg"
        - "src/images/**/*.gif"
        - "src/images/**/*.svg"
      dst: "dist/images"
# ------------------------------------------
# Sprites (https://github.com/Ensighten/spritesmith)
# ------------------------------------------
sprites:
  tasks:
    icon:
      src-1x:
        - "src/sprites/*.png"
        - "src/sprites/*.jpg"
      src-2x:
        - "src/sprites/*@2x.png"
        - "src/sprites/*@2x.jpg"
      dst: "dist/images"
      settings:
        sass:
          dst: "src/sass/helpers"
          rel: "../images"
        prefix: "icon"
# ------------------------------------------
# Fonts (https://www.npmjs.com/package/gulp-iconfont)
# ------------------------------------------
fonts:
  tasks:
    custom:
      src:
        - "src/svg/*.svg"
      dst: "dist/fonts"
      settings:
        sass:
          dst: "src/sass/helpers"
          rel: "../fonts"
        template: "fontawesome"
        prefix: "font"
  settings:
    template: "foundation"
# ------------------------------------------
# SVG Store
# ------------------------------------------
svgstore:
  tasks:
    icons:
      src:
        - "src/svg/*.svg"
      dst: "dist/images"
      filename: "icons.svg"
  settings:
    prefix: "icon"
