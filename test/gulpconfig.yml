# ------------------------------------------
# BrowserSync (https://www.browsersync.io/)
# ------------------------------------------
browsersync:
  settings:
    server:
      baseDir: "dist/"
  watch:
    - "src/**/*.html"
# ------------------------------------------
# Pug (https://pugjs.org)
# ------------------------------------------
pug:
  tasks:
    public:
      src:
        - "src/pug/*.pug"
      dst: "dist"
    test1:
      src:
        - "src/pug/test1/**/*.pug"
      dst: "dist/pug/test1"
    test2:
      src:
        - "src/pug/test2/**/*.pug"
      dst: "dist/pug/test2"
      settings:
        data:
          - "src/pug/test2/pugdata-task.yml"
  settings:
    data: "src/pug/pugdata.yml"
# ------------------------------------------
# SASS
# ------------------------------------------
sass:
  tasks:
    public:
      src:
        - "src/sass/*.scss"
        - "src/sass/**/*.scss"
      dst: "dist/css"
  settings:
    sass:
      errLogToConsole: true
    mqpacker:
      sort: "mobile"
    inlineSVG:
      path: "assets/"
    critical: true
    extractMQ: true
    purgeCSS: true
# ------------------------------------------
# JavaScript
# ------------------------------------------
javascript:
  tasks:
    public:
      src:
        - "dist/js/modules.min.js"
        - "src/js/concat/**/*.js"
      dst: "dist/js"
      filename: "all.js"
# ------------------------------------------
# Browserify
# ------------------------------------------
browserify:
  tasks:
    public:
      src:
        - "src/js/modules/app.js"
      dst: "dist/js"
      filename: "modules.js"
# ------------------------------------------
# Images
# ------------------------------------------
images:
  tasks:
    public:
      src:
        - "src/images/**/*.png"
        - "src/images/**/*.jpg"
        - "src/images/**/*.jpeg"
        - "src/images/**/*.gif"
        - "src/images/**/*.svg"
      dst: "dist/images"
# ------------------------------------------
# Sprites (https://github.com/Ensighten/spritesmith)
# ------------------------------------------
sprites:
  tasks:
    icon:
      src-1x:
        - "src/sprites/*.png"
        - "src/sprites/*.jpg"
      src-2x:
        - "src/sprites/*@2x.png"
        - "src/sprites/*@2x.jpg"
      dst: "dist/images"
      settings:
        sass:
          dst: "src/sass/helpers"
          rel: "../images"
        prefix: "icon"
#  settings:
#    imagemin:
#      optimizationLevel: 3
# ------------------------------------------
# Fonts (https://www.npmjs.com/package/gulp-iconfont)
# ------------------------------------------
#fonts:
#  tasks:
#    custom:
#      src:
#        - "assets/svg/*.svg"
#      dst: "build/fonts"
#      settings:
#        sass:
#          dst: "assets/sass/fonts"
#          rel: "../fonts"
#        template: "fontawesome"
#        name: "icon"
#        prefix: "font"
#  settings:
#    template: "foundation"
# ------------------------------------------
# SVG Store
# ------------------------------------------
#svgstore:
#  tasks:
#    icons:
#      src:
#        - "assets/svg/*.svg"
#      dst: "build/images"
#      filename: "icons.svg"
#  settings:
#    prefix: "icon"
